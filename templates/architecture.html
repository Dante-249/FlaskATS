<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>ATS Architecture ‚Äì Awadhesh</title>
<link rel="stylesheet" href="{{ url_for('static', filename='css/architecture.css') }}">


</head>

<body>

    <div class="container">
        <h1>üß† ATS Architecture ‚Äì Full Context</h1>

        <p>This page explains the complete architecture of our Flask-based ATS built locally with SQLite and Python.</p>

        <h2>1Ô∏è‚É£ High-Level Overview</h2>
        <p>Local file-based Applicant Tracking System supporting:</p>
        <ul>
            <li>Professional Boolean search</li>
            <li>Phrase handling</li>
            <li>Relevance-based ranking</li>
            <li>Resume indexing (PDF & DOCX)</li>
            <li>Clean UI</li>
        </ul>

        <pre>
Resumes (PDF/DOCX)
        ‚Üì
index_resumes.py
        ‚Üì
SQLite (database.db)
        ‚Üì
Flask App (app.py)
        ‚Üì
Boolean Engine (boolean_engine.py)
        ‚Üì
Relevance Engine (relevance.py)
        ‚Üì
index.html (UI)
        </pre>

        <h2>2Ô∏è‚É£ File-by-File Breakdown</h2>
        <ul>
            <li><strong>index_resumes.py</strong> ‚Äì Index resumes into SQLite</li>
            <li><strong>database.db</strong> ‚Äì Local resume storage</li>
            <li><strong>boolean_engine.py</strong> ‚Äì Evaluate Boolean queries</li>
            <li><strong>relevance.py</strong> ‚Äì Compute relevance score for ranking</li>
            <li><strong>app.py</strong> ‚Äì Flask orchestration, routes, keyword highlighting</li>
            <li><strong>index.html</strong> ‚Äì UI for Boolean search & results</li>
        </ul>

        <h2>3Ô∏è‚É£ Separation of Concerns</h2>
        <table>
            <tr>
                <th>Layer</th>
                <th>Responsibility</th>
            </tr>
            <tr>
                <td>UI</td>
                <td>Display only</td>
            </tr>
            <tr>
                <td>Flask</td>
                <td>Orchestration</td>
            </tr>
            <tr>
                <td>Boolean Engine</td>
                <td>Match / No match</td>
            </tr>
            <tr>
                <td>Relevance Engine</td>
                <td>Ranking</td>
            </tr>
            <tr>
                <td>Indexer</td>
                <td>Data ingestion</td>
            </tr>
            <tr>
                <td>DB</td>
                <td>Storage</td>
            </tr>
        </table>

        <h2>4Ô∏è‚É£ Memory Restore Prompt</h2>
        <pre>
I built a local Flask-based ATS. Resumes are indexed from PDF/DOCX into SQLite using index_resumes.py. 
Boolean search is handled by boolean_engine.py with tokenization and RPN evaluation. 
After Boolean pass, resumes are ranked using relevance.py. Flask app.py orchestrates logic, and index.html handles UI with keyword highlighting.
        </pre>

        <h2>6Ô∏è‚É£ Updated Model Architecture as we lost old .DB</h2>
        <ul>
            <li>
                When deploying to <em>GitHub</em> or <em>Render.com</em>, we avoided exposing the private <code>resumes/</code> folder.
                We created <code>sample_resumes/</code> for demo resumes. A fresh DB was initialized, and <code>resumes/</code> added to <code>.gitignore</code>.
                Scripts <code>create_db.py</code> and <code>add_column.py</code> were introduced. The deployed version supports <code>.docx</code> only.
            </li>
        </ul>

        <ol>
            <h2>Notes</h2>
            <li>create_db.py ‚Üí run once per project lifetime</li>
            <li>add_column.py ‚Üí use for schema updates</li>
            <li>index_resumes.py ‚Üí run whenever resumes change</li>
            <li>app.py ‚Üí never touches filesystem indexing</li>
            <li>Database ‚Üí source of truth</li>
        </ol>

        <h1>Updated High-Level Diagrammatic Overview of ATS Project</h1>
        <div class="diagram">
            <div class="box"><strong>User</strong><br>(Web Browser / Render)</div>
            <div class="arrow"></div>
            <div class="box"><strong>Flask App</strong><br>(app.py)</div>

            <div class="row">
                <div class="column">
                    <div class="arrow" style="transform: rotate(270deg);"></div>
                    <div class="box">
                        <strong>Local Machine ATS</strong><br>
                        RESUME_FOLDER = "resumes/"<br>
                        DB_NAME = "database.db"<br>
                        .txt/.docx/.doc supported<br>
                        Search using database<br>
                        File & DB Indexing (create_db.py / index_resumes.py)
                    </div>
                    <div class="arrow"></div>
                    <div class="box">
                        <strong>database.db</strong><br>
                        - file_name<br>- file_path<br>- file_type<br>- content<br>- modified_date
                    </div>
                    <div class="arrow"></div>
                    <div class="box">
                        <strong>Resume Files</strong><br>
                        resumes/ (private, large set)<br>.txt, .docx, .doc
                    </div>
                </div>

                <div class="column">
                    <div class="arrow" style="transform: rotate(270deg);"></div>
                    <div class="box">
                        <strong>Render / GitHub Demo</strong><br>
                        RESUME_FOLDER = "sample_resumes/"<br>
                        DB_NAME = "sample_db.db"<br>
                        .txt/.docx supported (.doc skipped)<br>
                        Search using pre-built DB<br>
                        File & DB Indexing (create_sample_db.py)
                    </div>
                    <div class="arrow"></div>
                    <div class="box">
                        <strong>sample_db.db</strong><br>
                        - file_name<br>- file_path<br>- file_type<br>- content<br>- modified_date
                    </div>
                    <div class="arrow"></div>
                    <div class="box">
                        <strong>Resume Files</strong><br>
                        sample_resumes/ (small demo set)<br>.txt, .docx
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <h1>üìÅ MVP ATS Project ‚Äì Folder Overview</h1>

            <div class="folder">
                <span class="folder-name">resumes/</span>
                <span class="folder-desc">Local private resumes (not tracked in Git)</span>
                <div class="file"><span class="file-name">resume1.docx</span><span class="file-desc">Sample resume</span></div>
                <div class="file"><span class="file-name">resume2.doc</span><span class="file-desc">Sample resume</span></div>
                <div class="file"><span class="file-name">...</span></div>
            </div>

            <div class="folder">
                <span class="folder-name">sample_resumes/</span>
                <span class="folder-desc">Public demo resumes for Render/GitHub</span>
                <div class="file"><span class="file-name">sample1.docx</span><span class="file-desc">Demo resume</span></div>
                <div class="file"><span class="file-name">sample2.txt</span><span class="file-desc">Demo resume</span></div>
                <div class="file"><span class="file-name">...</span></div>
            </div>

            <div class="folder">
                <span class="folder-name">templates/</span>
                <span class="folder-desc">HTML templates for Flask</span>
                <div class="file"><span class="file-name">index.html</span><span class="file-desc">Main UI for search</span></div>
                <div class="file"><span class="file-name">architecture.html</span><span class="file-desc">ATS architecture page</span></div>
                <div class="file"><span class="file-name">...</span></div>
            </div>

            <div class="folder">
                <span class="folder-name">database.db</span>
                <span class="folder-desc">Local SQLite DB for full ATS (private resumes)</span>
            </div>

            <div class="folder">
                <span class="folder-name">sample_db.db</span>
                <span class="folder-desc">SQLite DB for Render/GitHub demo (sample resumes)</span>
            </div>

            <div class="folder">
                <span class="folder-name">app.py</span>
                <span class="folder-desc">Main Flask application</span>
            </div>

            <div class="folder">
                <span class="folder-name">create_db.py</span>
                <span class="folder-desc">Script to create database schema</span>
            </div>

            <div class="folder">
                <span class="folder-name">create_sample_db.py</span>
                <span class="folder-desc">Script to create DB for sample_resumes</span>
            </div>

            <div class="folder">
                <span class="folder-name">add_column.py</span>
                <span class="folder-desc">Utility to add new column(s) to DB</span>
            </div>

            <div class="folder">
                <span class="folder-name">index_resumes.py</span>
                <span class="folder-desc">Script to read resumes and insert into DB</span>
            </div>

            <div class="folder">
                <span class="folder-name">boolean_engine.py</span>
                <span class="folder-desc">Handles Boolean query evaluation</span>
            </div>

            <div class="folder">
                <span class="folder-name">relevance.py</span>
                <span class="folder-desc">Calculates relevance score for search results</span>
            </div>

            <div class="folder">
                <span class="folder-name">search_resumes.py</span>
                <span class="folder-desc">Optional helper script to search resumes manually</span>
            </div>

            <div class="folder">
                <span class="folder-name">requirements.txt</span>
                <span class="folder-desc">Python dependencies</span>
            </div>

            <div class="folder">
                <span class="folder-name">README.md</span>
                <span class="folder-desc">Project overview / instructions</span>
            </div>

            <div class="folder">
                <span class="folder-name">.gitignore</span>
                <span class="folder-desc">Ensures <code>resumes/</code> and sensitive files are not tracked</span>
            </div>
            <div class="note">
                üí° <strong>Notes:</strong> Run <code>index_resumes.py</code> whenever resumes change. Use <code>create_db.py</code> or <code>create_sample_db.py</code> only once to initialize databases. Never upload <code>resumes/</code> to GitHub.
            </div>

        </div>
        <a href="{{ url_for('index') }}" class="button">Back to ATS</a>
    </div>
</body>
</html>